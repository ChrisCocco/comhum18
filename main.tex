%
% File acl2017.tex
%
%% Based on the style files for ACL-2015, with some improvements
%%  taken from the NAACL-2016 style
%% Based on the style files for ACL-2014, which were, in turn,
%% based on ACL-2013, ACL-2012, ACL-2011, ACL-2010, ACL-IJCNLP-2009,
%% EACL-2009, IJCNLP-2008...
%% Based on the style files for EACL 2006 by 
%%e.agirre@ehu.es or Sergi.Balari@uab.es
%% and that of ACL 08 by Joakim Nivre and Noah Smith

\documentclass[11pt,a4paper]{article}
\usepackage[hyperref]{acl2017}
\usepackage{times}
\usepackage{latexsym}
\usepackage{xcolor}

\usepackage{url}

\aclfinalcopy % Uncomment this line for the final submission
%\def\aclpaperid{***} %  Enter the acl Paper ID here

%\setlength\titlebox{5cm}
% You can expand the titlebox if you need extra space
% to show all the authors. Please do not make the titlebox
% smaller than 5cm (the original size); we will check this
% in the camera-ready version and ask you to change it back.

% added
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{dsfont} %to have \mathds{1}

\newcommand\BibTeX{B{\sc ib}\TeX}

\title{Identification and quantification of colours in children's drawings}

\author{Christelle Cocco ${}^1$, Rapha\"el Cer\'e ${}^2$, Aris Xanthos, ${}^3$  Pierre-Yves Brandt ${}^1$\\
  ${}^1$Institute for Social Sciences of Religions / University of Lausanne, Switzerland \\
  ${}^2$Department of Geography and Sustainability / University of Lausanne, Switzerland \\
  ${}^3$Department of Language and Information Sciences / University of Lausanne, Switzerland \\
  {\tt \{Christelle.Cocco, Raphael.Cere, Aris.Xanthos, Pierre-Yves.Brandt\}@unil.ch} \\
  {\color{red} [1) ** A tous, quels sont vos mails raccourcis? genre ccocco@unil.ch] (AX: axanthos)}
%  \And
%  Second Author \\
%  Affiliation / Address line 1 \\
%  Affiliation / Address line 2 \\
%  Affiliation / Address line 3 \\
%  {\tt email@domain} \\
  }


\date{}
\begin{document}
\maketitle
\begin{abstract}
{\color{red}[[TO UPDATE AT THE END]}
{\color{gray}Children's drawings reveal that developing colour retrieval technics
must consider various aspects of what is a colour from the flow of
energy (for physics) to discrete information (for humantities and human
sciences). Hence, the proposed method deals with color variety measures
and colours quantifications upon the drawing to respond at specific
queries e.g.~``Which colours appear?'', or ``How much yellow appears?''.}
\end{abstract}


\section{Introduction}\label{introduction}
\label{sec:introduction}

Social sciences and humanities (SSH) have a rich tradition of using computational methods for analysing text data. In contrast, although visual media have an increasing importance in many disciplines, and a central role in some of them, researchers in SSH have only just begun to explore the methodological opportunities offered by computerized image analysis. Rooted in developmental psychology and psychology of religion, the ``Drawings of gods'' project\footnote{This project is supported by the Swiss National Science Foundation (SNSF), grant number: CR11\textbar1\_156383.} is an example of an SSH project in which image is the primary data type: its main goals are the collection and analysis of drawings of gods produced by children in various countries and cultures \cite[see e.g.][]{BrandtKagataSpittelerGillieronPaleologue2009,Dandarova2013,DandarovaRobertDessartSerbaevaEtAl2016}.\footnote{The database of the project is available at \url{http://ddd.unil.ch/}.} In this context, an important class of research questions is related to colour usage in the drawings, e.g.~``Which colours are used to draw god?'', ``Are the colours used preferentially to answer the task of drawing god the same in each country?'', or ``Do older children use a larger array of colours than younger ones?''. Answering such questions presupposes the ability to identify the colours used in each of the thousands of drawings in the ``Drawings of gods'' database. This paper attempts to give a formal characterisation of this problem, proposes a computational methodology for solving it, and discusses the first results of its application to the project's dataset.

%To answer this type of questions, the main steps are \textit{1)} to define a set of colours 
%(sections~\ref{sec:set_col_definition} and~\ref{sec:identification}); \textit{2)} to select a colour space (section~\ref{sec:colour-space}); \textit{3)} to assign a colour to each pixel (section~\ref{sec:identification}); and \textit{4)} to count the number of colours in each drawing (section~\ref{sec:diversity}).

Processes for captating colours and providing numerical representations of them have been standardised long ago by such institutions as the  \textit{Commission Internationale de l'Eclairage} (CIE). Arguably, the most well-known scheme for digital colour representation is the {\em RGB} colour space: a colour is described by a triplet of values, each of which corresponds to the intensity of a primary colour light beam (red, green, or blue); each value is encoded with one octet, so that there are $256^3 = 16'777'216$ possible RGB colour triplets. This representation, which is the one in which the drawings of our dataset are converted by the digitisation process, is vastly too fine-grained for answering research questions of the kind stated above, as a single pencil stroke on a sheet of paper typically contains dozens of RGB shades when digitised. The challenge of colour identification, then, consists in defining a consistent mapping from a standard digital colour space (in our case, RGB) to a much more coarse-grained colour set, adapted to the research purposes of the widest possible range of SSH disciplines.

This task is rendered significantly more difficult by the fact that colour perception is a complex phenomenon which varies from one person to another on the basis of neurobiological factors such as age, as well as cultural factors such as first language~\cite[][pp. 35 and 87]{pastoureau2017} {\color{red}[AX: OK DE METTRE LA CITATION ICI?]}. This was confirmed by a preliminary experiment where we asked five human experts of various languages and cultures to look at 21 children's drawings and indicate the presence or absence of colours in a list (in French) based on the Munsell colour system~\cite{Munsell1912}.\footnote{The agreement between annotators, as measured by Fleiss's Kappa~\cite{Fleiss1971}, varied between $0.0512$ and $0.876$. It was even negative for white, since part of the subjects did not consider the background of the page as a colour.} Recognizing the difficulty (if not the impossibility) to define universal human colour categories, we settled in this work on a set of 10 categories (red, orange, yellow, green, cyan, blue, purple, pink, white and achromatic) which proved relevant for addressing the ``Drawings of gods'' research questions, and which our method is able to identify consistently. Most colours in this set are also present in those proposed by~\citet{berlinkay1969} and \citet{pastoureau2017}. The main differences with the lie in the absence of brown, which the proposed method fails to identify consistently, the fusion of black and gray, whose distinction is not relevant for characterizing the drawings of our dataset, and the addition of cyan. It is worth noting, however, that this particular colour set is but one possible configuration of the method, which can be easily adapted to fit different user needs.

The remainder of the paper is organized as follows. Section~\ref{sec:state_of_the_art} offers a brief overview of related work in the computer vision literature. Section~\ref{sec:method} proposes a detailed, formal account of the proposed algorithm for colour identification, and describes two ways of quantifying colour diversity based on the results of colour identification. Section~\ref{sec:results} discusses the results of colour identification and colour diversity quantification applied to the ``Drawings of gods'' dataset, and section~\ref{sec:conclusion} draws a brief conclusion.


\section{State of the art}
\label{sec:state_of_the_art}

Research about colours in computer vision mostly focuses on image segmentation \cite[see e.g.][]{ChengSun2000,ChenPappasMojsilovicEtAl2005,HanmandluVermaSusanEtAl2013} and image retrieval \cite[see e.g.][]{DengManjunathKenneyEtAl2001,RaoKumar2015,ZhangZhangYaoEtAl2016}. In either case, the problem typically consists in assessing colour similarity rather than assigning pixels to predefined colour categories. In the rare instance that colour names are explicitly used in these areas, the goal is usually irrelevant for dealing with SSH research questions such as illustrated in section~\ref{sec:introduction} above~\cite[see e.g.]{khan2013}. {\color{red}[AX: QUEL EST CE BUT QUI N'EST PAS PERTINENT POUR LES SHS?]} Furthermore, the vast majority of these methods are adapted for processing photographic sources rather than drawings.

%For the former (image segmentation), the aim is to segment the image according to the object, often on pictures, and thus to find a set of pixels with quite the same colour. For instance, as proposed by \citet[][p. 445]{GonzalezWoods2008}, the first step is to define an ``average'' colour of pixels of interest which are part of the image.

%The aim of the latter (image retrieval) is to find which images of a dataset correspond to the one stated as the query, and therefore to determine if the colours of the query and those of the dataset are similar. Thus, in both cases, there are no need to determine which colour it is (only which pixels have similar colours), unlike this contribution.

%There are also some colour researches in computer vision in the field of object detection or recognition \cite[see e.g.]{khan2012}, using sometimes also colour names \cite[see e.g.]{khan2013}. Nevertheless, their aims differed from the one found in the human sciences and described above. Furthermore, the majority of these methods are developed to treat pictures and not drawings.

However, other studies in computer vision have proposed promising descriptors such as colour histograms~\cite[see e.g.][]{sun2006}, colour names acquired using machine learning techniques~\cite{weijer2009, lindner2013}, or parametric models for automatic colour naming, where each colour category is modeled as a fuzzy set with a parametric membership function \cite{benavente2008}. {\color{red}[AX: QU'EST-CE QUE NOTRE PAPIER FAIT DE PLUS OU DE DIFFERENT QUE CEUX-LA?]}

The K-means algorithm is often used to find colour groups~\cite[see e.g.][]{yendrikhovskij2001,konyushkova2015,hulee2007}. However, there are two main drawbacks with this method: i) it is necessary to define the number of clusters ($K$), i.e.~the number of colours, must be defined \textit{a priori}; ii) the output of the method is the mean colour (i.e. the centroid) of each cluster, which can be difficult to relate to predefined colour categories. The article of~\citet{konyushkova2015} provides an example of the application of this technique to the analysis of the ``Drawings of gods'' images.

Finally, \citet{kimbaelee2007} describe a method for identifying colours in drawings which is very similar to the one proposed here. The main differences are that their method targets the Munsell colour system \cite{Munsell1912} and that it does not rely on a formal distinction between micro- and macro-colours (see section~\ref{sec:identification}).

%To answer questions in humanities and human sciences, it is necessary to develop specific techniques, since the aim is not to precisely find the nuance/shade of the colour in the drawing or to detect a set of similar pixels according to the colour, but to figure whether there is one colour that stands out from a set of colours on the one hand (see sections~\ref{sec:identification} and \ref{sec:results_identification}); and to determine the diversity of colours on the other hand (see sections~\ref{sec:diversity} and \ref{sec:results_diversity}). {\color{red} [Adapter ou deplacer cette transition pour coller a la nouvelle structure]}


\section{Method}\label{methods}
\label{sec:method}


\subsection{Data and preprocessing}
\label{sec:dataset_preprocessing}

{\color{red} [AX: dernier paragraphe de section 1, ajouter un mot sur data and preprocessing]}
The dataset used in this study is a subset of $N = 1212$ drawings extracted from the complete ``Drawings of gods'' database and collected in four countries (Japan, Switzerland and Russia {\color{red} [AX: that's 3 countries]}) between 2003 and 2016. Small groups of compulsory school aged children were sat in a way that discouraged copying from each other and were asked to draw ``god'', following the procedure described in \citet{DandarovaRobertDessartSerbaevaEtAl2016}.
{\color{red} 3) ** PYB **, QUELQUE CHOSE A AJOUTER?}

In what follows, each drawing $k \in 1,\dots, N$ is represented formally as a matrix $S = (\vec{s}_{ij})$ of $I \times J$ pixels ($\vec{s}$) and each pixel has three values (for Red, Green and Blue), i.e.~$\vec{s} = \{ s^{\tt \scriptstyle R}, s^{\tt \scriptstyle G}, s^{\tt \scriptstyle B} \}$.

As a first step, each image $k$ is resized with the {\tt imresize}
module of the {\tt scipy.misc} package, in such a way that the longer side is
equal to 320 pixels. Note here that the drawings are
rescaled at the same scale but not precisely at the same size.


\subsection{Identification of colours}
\label{sec:identification}
% \hypertarget{from-colour-categories-to-exact-colour-of-pixels}{%
% \subsection{From colour categories to exact colour of
% pixels}\label{from-colour-categories-to-exact-colour-of-pixels}}




In order to identify the colours present in each drawing, a method based on the image in the RGB colour space is
proposed. With a similar approach to the one developed by
\cite{kimbaelee2007} in the the Munsell colour system, the dissimilarity
between each pixel and a set of colours is computed. More precisely, for
each image, a squared Euclidean dissimilarity is computed between each
pixel \(\vec{s}\) and a set of $L = 117$ colours (see Figure~\ref{fig:colour_set}) defined in RGB, \textit{i.e.}
\(\vec{c_l} = \{ c^{\tt \scriptstyle R}_{l}, c^{\tt \scriptstyle G}_{l}, s^{\tt \scriptstyle B}_{l} \}\),
with $l = 1, ..., L$.

\begin{figure}
	\centering
	\includegraphics[width=0.5\textwidth]{figures/Col_tab.pdf}
	\caption{Set of 117 colours aggregated in 10 groups. For each colour, the three values represent the RGB components. \label{fig:colour_set}}
\end{figure}

Then, for each pixel \(\vec{s}\), the less dissimilar \(c_l\) is considered as
the colour of the pixel:
\begin{equation*}
c(\vec{s}_{ij}) := \operatornamewithlimits{argmin}_{l \in [1,L]} \| s_{ij} - c_{l} \|^{2}
\end{equation*}



Finally, according to the Figure~\ref{fig:colour_set}, the 117 colours are grouped into $G = 10$
main colours ($g = 1, \dots, G$), i.e.~red, orange, yellow, green, cyan, blue, purple, pink,
white and achromatic. Therefore, each pixel belongs to one of these
$G$ groups and the name of the colour of each pixel is defined as: 
{\color{red}
	\begin{equation*}
	C(\vec{s}_{ij}) = g \quad \textrm{if} \quad c(\vec{s}_{ij}) \in g
	\end{equation*}
}

For each drawing $k$, this permits us to obtain one
boolean matrix per colour $g$, $B^{g} = (b_{ij}^{g})$, with~\footnote{Here and in the sequel, $\mathds{1}(A)$ denotes the \textit{indicator function} of event $A$, taking on the value 1 if $A$ is true, and 0 otherwise.}:
\begin{equation}
	b_{ij}^{g} =  \mathds{1}(C(\vec{s}_{ij}) = g)
\end{equation}

Thus, the \textit{count of pixels}  (i.e.~the number of pixels) of each main colour $g$ for one drawing is defined as:
\begin{equation}
	n^{g} = \sum_{ij}b_{ij}^{g}
\end{equation}


It is important to note that the set of $L=117$ colours is based on a typical RGB colour chart~\footnote{such as the one available on: \url{https://www.rapidtables.com/web/color/RGB_Color.html}}, bur another one could be used. Regarding the set of main colours $G$, it is a result of discussions in the project team, as explained in section~\ref{sec:set_col_definition}. Black and grey were grouped into achromatic, since it is complicate to differentiate these two colours (or which pencil was used by the children), for a computer, as well as for an human. Moreover, this distinction is not necessary to study a child's colour choice. Furthermore, brown is not included in the colour list, since it is difficult to define according to the method described above and the colour space chosen. However, it would be possible to group some of the 117 colours into a new group ``brown''. Similarly, it could be possible to create a complete different set of main colours. For instance, blue and cyan could be grouped.
{\color{red} 4) ** PYB **, QUELQUE CHOSE A AJOUTER?}

Therefore, we are able to attribute one colour per pixel and thus, extract the proportion of
each colour used in each drawing (see section~\ref{sec:results_identification}), in order to answer the first type of psychological research questions mentioned in section~\ref{sec:introduction}. 
Regarding the second type of questions, the proposed methods are explained in the next section.



{\color{red}[MET-ON LE CODE SUR GITHUB??? ET ENSUITE UN LIEN?]}


\subsection{Colour diversity [ARIS]}
\label{sec:diversity}


There are a number of ways of quantifying the diversity associated with a discrete distribution, such as the distribution of colours in a drawing obtained with the identification method described in section~\ref{sec:identification} above. All diversity measures are, to a certain extent, dependent on the size of the sample from which the considered distribution has been obtained \cite[see e.g.][]{TweedieBaayen1998}, however the impact of this dependence is lessened in our case by the (partial) normalisation of drawing size (see section~\ref{sec:preprocessing} above). In the present study, we experiment with two diversity measures, namely the {\em variety} or number of distinct colours in a drawing, and the {\em Shannon entropy} of the colour distribution.

In the case of variety, an additional preprocessing step is performed: in order to reduce the amount of noise--anomalous pixels resulting from the digitisation process--a median filter of \(3 \times 3\) pixels is applied to each boolean colour matrix $B^{g}$. The filtered matrix, $\tilde{B}^{g}$, is then used to compute new counts $\tilde{n}^{g} = \sum_{ij}\tilde{b}_{ij}^{g}$, which in turn make it possible to calculate the colour variety as:
\begin{equation}
	V = \sum_{g}\mathds{1}(\tilde{n}^{g} > 0)
\end{equation}

Following \citet{Shannon1948}, the colour entropy is defined as:
\begin{equation}
	H = -\sum_{g} f^{g}\mbox{ log }f^{g}
\end{equation}
where $f^{g}:= n^{g}/\sum_{k}n^{k}$ stands for the (unfiltered) colour relative frequency. $H$ varies between 0 and log $G$: $H=0$ corresponds to a deterministic configuration where a single colour occurs with relative frequency $f^{g} = 1$, while the maximum $H=\mbox{log }G$ is reached when the colour distribution is uniform ($\forall g: f^{g} = 1/G$).



\section{Results [RAPHAEL]}
\label{sec:results}
Here, we first show an explicit sample of the results obtained from the method Identification of colours (see section \ref{sec:identification}) applied on all drawings. 
We then extend the presentation of these results using the method of Colour diversity retrieval (see section \ref{sec:diversity}) crossed with the results of a deeper measure of variety commonly used in Computer Vision. 
The first step of the colour experiment depicted in section \ref{sec:set_col_definition} is presented in order to asses the automatic method of variety estimation in face of human perceived variety.

\subsection{Colour identification}
\label{sec:results_identification}
The colour identification step yields the boolean $B^g$ matrix per colour $g$ for each $k$ drawing from where masked-image can be reconstructed to reveal the colour configuration of the original drawing as illustrated on Figure~\ref{fig:example}.

\begin{figure*}
	\centering
	\raisebox{0.45cm}{\includegraphics[width=0.32\linewidth]{figures/jp04_ko_m_ryx_13_09_kmx-r.jpg}}
	\includegraphics[width=0.62\linewidth]{figures/jp04_ko_m_ryx_13_09_kmx-rno_filter_mask.pdf}\hfil
	\raisebox{0.45cm}{\includegraphics[width=0.32\linewidth]{figures/ru08_bo_f_pb_07_05_ali-r.jpg}}
	\includegraphics[width=0.62\linewidth]{figures/ru08_bo_f_pb_07_05_ali-rno_filter_mask.pdf}\hfil
	\includegraphics[width=0.32\linewidth]{figures/ch16_fr_m_rec_13_07_rap-r.jpg}
	\includegraphics[width=0.62\linewidth]{figures/ch16_fr_m_rec_13_07_rap-rno_filter_mask.pdf}
	\caption{Illustration of the colour identifications. Top: Japanese drawing. Middle: Russian drawing. Down: Swiss drawing.}
	\label{fig:example}
\end{figure*}



{\color{red}[CC: Other distances tested, such the one from Androutsos 1999 et un autre plus r√©cent et mieux, add ref in 4.1 for fig. 3]}

{\color{red}[Met-on encore un bon exemple, comme le buisson vert du Japon? Si oui, a faire par CC]}

The first figure illustrates a good extraction of the main colours whereas the second illustrates a less good colour extraction because of the similar computed distances between $\vec{s}$  pixel and the two or more $G$ main colours e.g.~$g = \mbox{Green}$ and $g = \mbox{Achromatic}$. 
Also, the lack of the main colour Brown in the defined set of colours produces errors during the colour identification process as well as a over attribution of the pixels to the Green when yellow and grey overlap into the drawing. Except these problems with low saturated colours, an other typical problem occurs when two colours are mixed, such as grey and yellow which are detected as green. This type of mixing represents only a few pixels in a drawing and thus, does not affect percentages of colours. However, for this reason, $B^g$ is transformed into $\tilde{B}^g$ to count the number of pixels. Despite these errors, the results are good enough for the majority of drawings. As it was not possible to create a gold standard, the quality was assessed visually.
{\color{red}[CC:  Parler des bons resultats v.s. mauvais resultats avec examples (qui sont encore \`a choisir)]}.

{\small \color{teal}[IDEE: Cross validation en prennant al\' eatoirement quelques pixels par dessin et les attribuer manuelle \`a une couleurs principales ou avoir un toy example avec un dessin o\`u l'on "connait" les couleurs.]}

From there, we compute the proportion of coloured pixels per $g$ colour for the whole dataset considered as a unique drawing, where $g \in G \not\ni g = white$, to reveal the weighted frequency of main colours (see Figure \ref{fig:propcolours}). 
For this dataset, the results obtained allows to said that the Achromatic is the most identified followed by the Blue and the Yellow whereas the Pink and the Purple are clearly less present (they represent $70.3\%$ against $0.9\%$). The Orange, Red, green and Cyan seem to be moderately present ($27.8\%$). 
{\color{red} 5) ** P.-Y.B. ** [Les resultats sont differents de ceux obtenus dans le chapitre des couleurs, et c'est normal, car l'ensemble des dessins est considere comme un tout. Donc les dessins qui utilisent une plus garnde partie de la page sont plus importants. Ainsi on n'a des resultats de premiere main dans le chapitre.]}




\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/colors-barplot.png}
	\caption{Proportion of coloured pixels per $g$ colour, where $g \in G \not\ni g = white$.}
	\label{fig:propcolours}
\end{figure}


\subsection{Colour diversity}
\label{sec:results_diversity}
However we are able to identify automatically colours with a specific chosen set of colours, the colour variety of the drawing was still not considered. 

\subsubsection{Entropy and variety}
Based on the colour identification results, we then compute the relative entropy {\color{red}[Ajouter ref. \'equation quand disponible]} as well as the variety in order to reveal, first, the proportional colour variety of the dataset and, secondly, to compare it with the absolute variety of the dataset (number of non-empty main colours $g$), see Figure~\ref{fig:boxplotvariety}. {\color{red} CC: finalement on a utilise $B_{g}$ au lieu de $\tilde{B}_g$???]}
Globally, the medians of the boxes indicate a linear  relationship between the entropy and the variety, whereas the absolute frequency of drawings per number of colours identified, the variety, has an normal distribution.

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/colors-boxplot.png}
	\caption{Entropy $H(f)$ box plot for the $N$ drawings per the numbers of colours identified, namely the variety $V$ {\color{red}[CC: ref equation?]}.}
	\label{fig:boxplotvariety}
\end{figure}

\begin{figure*}
	\centering
	\includegraphics[width=0.75\linewidth]{figures/colors-grille.png}
	\caption{Sample of drawings, selected per quartiles, and ordered by entropy (column) and variety (row). {\color{red}[AJOUTER ENCORE LE AXES]}}
	\label{fig:grille}
\end{figure*}

In more details, we observe on Figure \ref{fig:grille} that the entropy value attached to each drawing indicates a degree of completeness: the higher the entropy value is, more the colours are covering the page revealing more complex drawings whereas the lower values depicts lower coloured and complex drawings where $H(f) \rightarrow 0$ reveals whiter pages.
Also, combined with the variety, we observe that measure allows a gradual distinction between white drawing background with a single object to drawing with more contextualized (mutli-)object(s).
{\color{red} 6) ** P.-Y.B. **}


Based on the chosen colour sets, the entropy measure is sensitive to the errors during the pixel colour attributions (e.g.~similar distances, no Brown, etc.). 
Then, we compare it with a common approach of Computer Vision which consists to measure the entropy on the greyscale levels histogram of the drawing. 
The scatter plot, figure~\ref{fig:entropies}, depicts the significant Pearson correlation ($r=0.8866$, $p=0.000$) between these two entropy values {\color{red}[Reprendre quelques parties de 3.5 et citer \citet{wu2013}]}. 

{\small \color{teal}[IDEE: Est-ce que les extr\`emes ne permettraient pas d'en dire plus? A creuser.]}

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/colors-greysacale-entropies.png}
	\caption{Scatter plot of the entropies on the greyscale levels histogram with the main colours entropies.}
	\label{fig:entropies}
\end{figure}

\subsubsection{Variety concordance} {\color{red} Titre a modifier}
\label{sec:results_variety_concordance}

For each $\tilde{k}$ drawing in a sample of $\tilde{N} = 10$ drawings, we evaluate the concordance of the variety computed automatically $v^c_i = {1, \dots, G}$, by the algorithm of section \ref{sec:identification} {\color{red} Plutot selon $V$ de la section 4.5}, and the human perceived variety $v^h_i = {1, \dots, +\infty}$. 

{\color{red}[CC: a modifier, juste pour montrer que c'est autre chose que l'autre partie de l'experience]}
More precisely, we asked five human experts (the same ones as described in the section~\ref{sec:set_col_definition}) to write all the colours they saw in each drawing.
The annotators had at their disposal 15 spaces to write the colour names.
Only two annotators considered "white" as a colour of the drawing and thus it was removed from the results.
To count the number of colours found by each annotator, we counted the number of spaces filled. 
For instance, if an annotator wrote several colour or shade names in a same space to describe one colour, it was counted as one colour.


First, we observe on Figure~\ref{fig:compnbcolourssd} that the numbers of colours identified automatically is different to the humans in a range of two colours in average. 
These results are quite impressive in face of the number of factors considered during both estimations of variety; on one hand the errors of the automatic attributions observed previously and, on the other hand, the human perception bias. 
The Figure \ref{fig:compnbcoloursscatter} confirms this trend with a linear relationship.

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/comp_nb_colours_sd.png}
	\caption{Drawings in function of the means numbers of colours estimated by the algorithm and human.}
	\label{fig:compnbcolourssd}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/comp_nb_colours_scatter.png}
	\caption{Scatter plot of the variety observed by human in function of the automatic estimation of the variety.}
	\label{fig:compnbcoloursscatter}
\end{figure}



The Figure~\ref{fig:blandandaltman} shows the range of the disagreement using the \textit{Bland and Altman graphic} \cite{bland1986}.
The differences between the varieties of each $i$ drawing,  $d_i = v^c_i - v^h_i$, are represented in function of their means $\overline{d}_i = v^c_i + v^h_i/2$. 
The range of disagreement $d_i$ is then analysed in function of the mean $\overline{d}_i$. More $d_i$ is distant of  $0$, respectively close, $d_i \rightarrow 0$ , more the disagreement is higher, respectively concordant,  whereas $\overline{d} = 1/N\sum_{i}^{\tilde{N}}d_i = 0$ depicts a perfect concordance between these two varieties. 



Although there is no significant disagreement under the normal distribution hypothesis, the low size $\tilde{N}$ of the sample is not representative and show a mean disagreement $\overline{d}=-0.74$ {\color{red}[AJOUTER LA VALEUR DE D\'ESACCORD, CC: FAIT MAIS ETRE MOINS NEGATIF, deja un essai et explication]}. It is coherent that there are more colours found by humans than by the algorithm, since the brown is not detected automatically and the grey and the black were aggregated.


\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/comp_nb_colours_agreement.png}
	\caption{Range of disagreement of variety estimations using Bland et Altman  Graphic.}
	\label{fig:blandandaltman}
\end{figure}



\section{Conclusion}
\label{sec:conclusion}
{\color{red}[TO UPDATE AT THE END] }
{\color{gray} As a next step, since humans are more sensitive to colour patches than

to isolated pixels, a filter should be applied at the beginning of the
process, such as the Mumford-Shah Regulariser proposed by
\citet{erdem2009}. Indeed, when children (or adults) fill in an area of
the sheet with colour, the application is not regular and consequently
not all pixels of the zone are coloured. Thus, in order to avoid
underestimating the proportion of one particular colour, standardizing
colours by zone could help work around the possible issue.}

These methods are
applicable to other data and research, e.g.~studying the main colours
used by a painter according to various periods of his/her life.

Moreover, as explained in section..., it is possible to define a different set of colours and/or to start with more or less than 117 colours.

Later: define and detect brown.

\bibliography{bibliography}
\bibliographystyle{acl_natbib}

\end{document}
