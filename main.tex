%
% File acl2017.tex
%
%% Based on the style files for ACL-2015, with some improvements
%%  taken from the NAACL-2016 style
%% Based on the style files for ACL-2014, which were, in turn,
%% based on ACL-2013, ACL-2012, ACL-2011, ACL-2010, ACL-IJCNLP-2009,
%% EACL-2009, IJCNLP-2008...
%% Based on the style files for EACL 2006 by 
%%e.agirre@ehu.es or Sergi.Balari@uab.es
%% and that of ACL 08 by Joakim Nivre and Noah Smith

\documentclass[11pt,a4paper]{article}
\usepackage[hyperref]{acl2017}
\usepackage{times}
\usepackage{latexsym}
\usepackage{xcolor}

\usepackage{url}

\aclfinalcopy % Uncomment this line for the final submission
%\def\aclpaperid{***} %  Enter the acl Paper ID here

%\setlength\titlebox{5cm}
% You can expand the titlebox if you need extra space
% to show all the authors. Please do not make the titlebox
% smaller than 5cm (the original size); we will check this
% in the camera-ready version and ask you to change it back.

% added
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{dsfont} %to have \mathds{1}

\newcommand\BibTeX{B{\sc ib}\TeX}

\title{Identification and quantification of colours in children's drawings}

\author{Christelle Cocco ${}^1$, Rapha\"el Cer\'e ${}^2$, Aris Xanthos, ${}^3$  Pierre-Yves Brandt ${}^1$\\
  ${}^1$Institute for Social Sciences of Religions / University of Lausanne, Switzerland \\
  ${}^2$Department of Geography and Sustainability / University of Lausanne, Switzerland \\
  ${}^3$Department of Language and Information Sciences / University of Lausanne, Switzerland \\
  {\tt \{Christelle.Cocco, Raphael.Cere, Aris.Xanthos, Pierre-Yves.Brandt\}@unil.ch} \\
%  \And
%  Second Author \\
%  Affiliation / Address line 1 \\
%  Affiliation / Address line 2 \\
%  Affiliation / Address line 3 \\
%  {\tt email@domain} \\
  }


\date{}
\begin{document}
\maketitle
\begin{abstract}
{\color{red}[[TO UPDATE AT THE END]}
{\color{gray}Children's drawings reveal that developing colour retrieval technics
must consider various aspects of what is a colour from the flow of
energy (for physics) to discrete information (for humantities and human
sciences). Hence, the proposed method deals with color variety measures
and colours quantifications upon the drawing to respond at specific
queries e.g. ``Which colours appear?'', or ``How much yellow appears?''.}
\end{abstract}


\section{Introduction}\label{introduction}
\label{sec:introduction}

In computer vision, there are well developed techniques to analyse and retrieve natural images (e.g.~pictures or videos). 
However, the status of the image in humanities or in human sciences depends more on the perception of the image. Moreover, the images are not necessarily natural (e.g.~paintings or drawings). Therefore, specific techniques need to be developed according to precise research questions of humanities.

For the multicultural and interdisciplinary project: ``Drawings of gods''\footnote{This project is supported by the Swiss National Science Foundation (SNSF), grant number: CR11\textbar1\_156383.}, whose the main fields are developmental psychology and psychology of religion, children's drawings of gods were collected in several countries \cite[for more details about this project, see \textit{e.g.}][]{BrandtKagataSpittelerGillieronPaleologue2009,Dandarova2013,DandarovaRobertDessartSerbaevaEtAl2016}.\footnote{The database of the project is available on \url{http://ddd.unil.ch/}.} 
In order to analyse these drawings, it would be helpful to identify and quantify the colours used by the children in their drawings. 
Indeed, several research questions in the project are related to colours, such as ``Which colours are used to draw god?'', ``Are the same colours utilised in all countries?'', ``Did older children use more or less colours than younger ones?''

To answer this type of questions, the main steps are 1) to define a set of colours; 2) to select a colour space; 3) to assign a colour to each pixel; 4) to count the number of colours in each drawing.

Concerning the first step, although it is possible to obtain precise values defining the colour of a pixel with a computer, there is no universal colour set.
It is even difficult to align the perception of two humans.
Indeed, the human colour perception occurs through the radiance incident upon
the retina on which three photoreceptor cells, named cones, are located.
Only these three photoreceptors (corresponding to the \emph{Red}, \emph{Green} and \emph{Blue} numerical components (RGB) of a pixel) are necessary to describe a colour using appropriate spectral functions. Standard curves have been adopted in 1931 by the \textit{Commission Internationale de l'Eclairage} (CIE) to specify the colour by those three numbers from spectral power distribution transformation.

Although the CIE standard exists, only computers are able to assign
those three numbers to a colour in a precise manner. Therefore, any
human assignment is basically obsolete due to the influence of an
individual's interpretation of the colour. 
%(e.g. ``Where can I put a threshold between red and orange?'', ``Is it not already brown?'').
Moreover, the human perception of colour distributions of an image can be
drastically different from recorded colour images in terms of vision \cite[see \textit{e.g.}][]{jobson1997} and,
respectively, in terms of perception depending on the context ()\textit{e.g.}
\emph{Chubb illusion}  \cite{ChubbSperlingSolomon1989} or \emph{Checker shadow illusion}\footnote{See \textit{e.g.} \url{http://www.michaelbach.de/ot/lum-adelsonCheckShadow/index.html}}) and on the experience of the human visual system \cite[see \textit{e.g.}][]{LottoPurves2001}.


Besides this, this paper focusses on a children's drawing dataset. 
The particularity of this kind of image depends on the drawer's
colour choices. It can be intentional according to his/her own
perception and his/her human singularity or constraints according to
colour availability. Subsequently, the resulting object analysis is
technically constrained: the final colours are altered by the
digitalisation encoding, as well as the quantification of colours.


\subsection{Attempts to define a set of colours}

Defining a set of colours for a human is a difficult task as itself. Indeed, a human cannot describe precisely a colour, as explained by \citet{wittgenstein1977}:

\begin{quote}
	``When we're asked about ``What do the words `red', `blue', `black',
	`white', mean?" we can, of course, immediately point to things which
	have these colours, - but our ability to explain the meanings of these
	words goes no further! For the rest, we have either no idea at all of
	their use, or a very rough and to some extent false one." (68,I)
\end{quote}

Besides the difficulty to find words to describe a category of colours, the challenge of defining a colour set is also due to the fact that colour perception, which differs from colour vision, varies according to each person. In fact, perception is a complex phenomenon, including neurobiological and cultural aspects. 
Moreover, perception depends on the age and on the society, and is not a universal law. 
For instance, West perception differs from other place perception and colour terms vary between languages \cite[][p. 35 and p.87]{pastoureau2017}.

Indeed, colours are mental categories whose the vocabulary, at least for West culture, is based on the classification of Aristotle and not on physical laws, such as the prismatic (spectral?) colours observed by Newton 
\cite[][p. 12 and p. 90-91]{pastoureau2017}. Thus, human perception is completely different from the computer process.

Although it is difficult or even impossible to define universal human
categories, there are several works from linguistic and psychological perspectives to obtain an universal inventory of basic colour terms (focal colours) \cite[see e.g.]{berlinkay1969,RegierKayCook2005},  Moreover, (psychology) naming a colour does not mean recognise/differentiate a colour {[}VOIR TRAVAUX D'ANNA
FRANKLIN{]}  [OU PLUTÃ’T POUR EXPLIQUER RESULTATS COULEURS NOMBRES AVEC COMPARAISON HUMAINS; FIGURE 8, 9 et 10]
...
	the gap between the human perception (continuous colours) and the
colour categorisation (discrete colours)
\cite[see e.g.][]{parragaakbarinia2016}, 

According to the historian and colour specialist,
Pastoureau, a colour is not equivalent to the shade of a colour, which
has neither its own history, nor its own symbolic, unlike colours
\cite[][p. 12 and p. 63 and p. 183]{pastoureau2017}. Thus, he counts 11 colours for
the West {[}VERIFIER{]}, whose 6 from the first rank: white, red, black, green, yellow and blue; and 5 from the second rank: pink, orange, purple (violet), gray and brown.
 Regarding the definition of a set of
colours -\textgreater{} Berlin and Kay and so on\ldots{}. {[}to be
completed{]}


	


In order to attest these categories, we asked to
\ldots{} human annotators (two Russians, one Swiss/Iranian, one/two
Swiss people, one Belgian), to write the colour names of the colour of a
set of\ldots{} drawings. In the second phase, annotators had to select
presence or absence of colours in a list based on the Munsell system for
another set of drawings (\ldots{} were part of both sets). Moreover,
they had space to write name of missing colours.
Kappa...... [CITER POUR POOLED KAPPA]

To answer questions in humanities and human sciences, it is necessary to develop specific
techniques, since the aim is not to precisely find the nuance/shade of the
colour in the drawing, but to figure whether there is one colour that stands
out from a set of colours on the one hand (see sections~\ref{sec:identification} and \ref{sec:results_identification}); and to determine the diversity of colours on the
other hand (see sections~\ref{sec:diversity} and \ref{sec:results_diversity}).


\section{State of the art}

A number of previous researches in computer vision proposed promising
descriptors such as colour histograms \cite{sun2006} or colour names
\cite{weijer2009, lindner2013} through mapping learned from images.
However, their aims differed from the one found in the human sciences
and described above. For instance, when colour is used in image
retrieval, the aim is to find which images of a dataset correspond to
the one stated as the query. Thus, the main point is to determine if the
colours of the query and those of the dataset are similar, no matter
which colour it is. More specifically, the paper of
\cite{konyushkova2015} proposes a solution closer to the aim of finding
the set of colours displayed in children's drawings with the well-known
method of \emph{K-means}. However, it allows to extract mean colours for
a set of drawings which is not the aim here.

Most of the researches about colours in
computer vision concern the field of image retrieval. In this type of
researches, the aim is to find if two images have the same colours and
not, as in this project, to discover if the pixels in the image belongs
to a certain colour of a set {[}REF{]}.

\cite{benavente2008}

the gap between the human categories of colours (ideally universal)
and the exact colour of each pixel in the image (continuous colours)
\cite{khan2012, khan2013} [STATE OF THE ART?]

When the aim is still to find colour groups, the
K-means algorithm is often used \cite[see e.g.][]{yendrikhovskij2001,konyushkova2015,hulee2007}. However, there are two main
drawbacks with this method: 1) it is necessary to define the number of
clusters (K), thus the number of colours a priori; 2) for each cluster,
we can obtain a mean of colours belonging to this cluster and these
means can be difficult to name and to distinguish.

\section{Methods}\label{methods}

\subsection{Colour space}
\label{sec:colour-space}
Numerous colour spaces are available in computer vision and all have advantages and drawbacks \cite{tkalcictasic2003}.  For instance, Gong et al.~1998
for their image indexing and retrieval method based on the NBS colour
distance, use the HVC space.


However, RGB can be stated as ``the basic colour space''\cite{tkalcictasic2003}.


Possible with the Munsell colour space, as done by \citet{kimbaelee2007}, near human perception, but no linear transformation between
RGB and Munsell \cite[see e.g.][]{zhangsokhansanjwuetal1998}

\begin{itemize}
	
	\item
	First tests: HSV with range of colours -\textgreater{} difficult to
	define the limit between two colours
	\item
	Final choice: distance to colours
	
	\begin{itemize}
		\item
		Final choice: RGB with a set of colours, each from light to dark and
		distance to this colour
	\end{itemize}
\end{itemize}



\subsection{Data}

The dataset consists of $N = 1212$ children's drawings of gods collected in four countries: Japan, Switzerland and Russia, between 2003 and 2016. The compulsory school aged children, met in small groups, were sat in a way that discouraged copying from each other and were asked to draw ``god'' following the procedure described in \citet{DandarovaRobertDessartSerbaevaEtAl2016}.


\subsection{Preprocessing}
Each drawing, $k = 1,\dots, N$, is a matrix $S = (\vec{s}_{ij})$ which contains $i \times j$
pixels ($\vec{s}$) and each pixel has three values (for Red, Green and Blue), \textit{i.e.}
$\vec{s} = \{ s^{\tt \scriptstyle R}, s^{\tt \scriptstyle G}, s^{\tt \scriptstyle B} \}$.

As a first step, each image $k$ is resized with the imresize
module of the scipy.misc package, in such a way that the longer side is
equal to 320 pixels. Note here that the drawings are
rescaled at the same scale but not precisely at the same size.


\subsection{Identification of colours}
\label{sec:identification}
% \hypertarget{from-colour-categories-to-exact-colour-of-pixels}{%
% \subsection{From colour categories to exact colour of
% pixels}\label{from-colour-categories-to-exact-colour-of-pixels}}




In order to identify the colours present in each drawing, a method based on the image in the RGB colour space is
proposed. With a similar approach to the one developed by
\cite{kimbaelee2007} in the the Munsell colour system, the dissimilarity
between each pixel and a set of colours is computed. More precisely, for
each image, a squared Euclidean dissimilarity is computed between each
pixel \(\vec{s}\) and a set of $L = 117$ colours (see Figure~\ref{colour_set}) defined in RGB, \textit{i.e.}
\(\vec{c_l} = \{ c^{\tt \scriptstyle R}_{l}, c^{\tt \scriptstyle G}_{l}, s^{\tt \scriptstyle B}_{l} \}\),
with $l = 1, ..., L$.

\begin{figure}
	\centering
	\includegraphics[width=0.5\textwidth]{figures/Col_tab.pdf}
	\caption{Set of 117 colours aggregated in 10 groups. For each colour, the three values represent the RGB components. \label{colour_set}}
\end{figure}

Then, for each pixel \(\vec{s}\), the less dissimilar \(c_l\) is considered as
the colour of the pixel:
\begin{equation*}
c(\vec{s}_{ij}) := \operatornamewithlimits{argmin}_{l \in [1,L]} \| s_{ij} - c_{l} \|^{2}
\end{equation*}

Finally, according to the Figure~\ref{colour_set}, the 117 colours are grouped into $G = 10$
main colours ($g = 1, \dots, G$), \textit{i.e.} red, orange, yellow, green, cyan, blue, purple, pink,
white and achromatic. Therefore, each pixel belongs to one of these
$G$ groups and the name of the colour of each pixel is defined as $C(\vec{s}_{ij}) = \mathds{1}(c(\vec{s}_{ij}) \in g)$ [CE N'EST PAS ENCORE CA, MAIS ON S'EN APPROCHE, ON NE VEUT PAS 1, MAIS LE NOM... $= g \quad \textrm{if} \quad c(\vec{s}_{ij}) \in g$ ?]. \footnote{Here and in the sequel, $\mathds{1}(A)$ denotes the \textit{indicator function} of event $A$, taking on the value 1 if $A$ is true, and 0 otherwise.}

For each drawing $k$, this permits us to obtain one
boolean matrix per colour $g$:
\begin{equation}
B^{g} = (b_{ij}^{g}) \quad \textrm{with} \quad b_{ij}^{g} =  \mathds{1}(C(\vec{s}_{ij}) = g)
\end{equation}

Thus, the number of pixels of each main colour $g$ for one drawing is defined as:
\begin{equation}
	f^{g} = \sum_{ij}b_{ij}^{g}
\end{equation}


It is important to note that the set of $L=117$ colours is based on a typical RGB colour chart~\footnote{such as the one available on: \url{https://www.rapidtables.com/web/color/RGB_Color.html}}, bur another one could be used. Regarding the set of main colours $G$.... [COMPLETER SELON 1.1!!!!!!]

Therefore, we are able to attribute one colour per pixel and thus, extract the proportion of
each colour used in each drawing (see section~\ref{sec:results_identification}), in order to answer the first type of psychological research questions mentioned in section~\ref{sec:introduction}. 
Regarding the second type of questions, the proposed methods are explained in the next section.





[MET-ON LE CODE SUR GITHUB??? ET ENSUITE UN LIEN?]


\subsection{Colour diversity [ARIS]}
\label{sec:diversity}

There are a number of ways of quantifying the diversity associated with
a discrete distribution, such as the distribution of colours in a drawing
obtained with the identification method described in section~\ref{sec:identification}
above. In the present study, we experiment with two diversity measures,
namely the {\em variety} or number of distinct colours in a drawing, and the
{\em Shannon entropy} of the colour distribution.

In the case of variety, an additional preprocessing step is performed: in order
to reduce the amount of noise--anomalous pixels resulting from the
digitisation process--a median filter of \(3 \times 3\) pixels is applied to each 
boolean matrix colour matrix $B^{g}$. The filtered matrix, $\tilde{B}^{g}$, is 
then used to compute new frequency values $\tilde{f}^{g} = 
\sum_{ij}\tilde{b}_{ij}^{g}$, which in turn make it possible to calculate the colour 
variety as:
\begin{equation}
	V = \sum_{g}\mathds{1}(\tilde{f}^{g} > 0)
\end{equation}

[TODO Aris: Entropy] 

% \hypertarget{from-human-perception-to-colour-categorisation}{%
% \subsection{From human perception to colour
% categorisation}\label{from-human-perception-to-colour-categorisation}}

Concerning the first gap, through the \emph{state-of-art} of colour
retrieval, the most fruitful quantitative approach to translate color
choices between humans (drawer \(\leftrightarrow\) observer) is the
average amount of information provided by a stochastic source of colors
(the drawing) called the Shannon information entropy from the
information theory (Claude Shannon 1948).

To calculate the entropy, the common approach is first to convert the
drawing RGB color space into a greyscale using a linear-light conversion
where \(\vec{s}\) becomes a univariate measure \(s^{\tt \tiny CRT}\)

\[s^{\tt \scriptstyle CRT} = 0.2125s^{\tt \scriptstyle R} + 0.7154 s^{\tt \scriptstyle G}+ 0.0721 s^{\tt \scriptstyle B}\]

which reveals the intensity of light \cite{poynton1997}. This conversion
is only effective if the drawing is regarded solely as an optical record
of light intensity than the visual experience where other methods have
to be considered (see \cite{amy2005}).

For each \(i\) drawing a biased color distribution is considered to take
into account an certain user choice (such as a biased dice,
non-completely random). Consequently, we postulate that drawings are
independent to each other; singular in view of color used. The \(m\)
categories of grey for each drawing is measured by counting the \(j\)
number of \(S^{\tt \scriptstyle CRT}_m\) distinct pixel grey,
\(j = 1, \dots, m\) modalities. By construction, the relative
frequencies or proportions \(f_j = S^{\tt \scriptstyle CRT}_j/S\)
respect

\[S_j \geq 0 \qquad \sum_{j=1}^{m} S_j = S \qquad f_j = \frac{S_j}{S} \qquad \sum_{j=1}^{m} f_j = 1\]

The notion of variety of grey naturally seems to be a good value to
depict qualitatively the colors. The relative variety
\(\delta^{\tt \scriptstyle CRT}\) depends on the \(f\) proportion
observed. The number of each unique level of grey which appear
effectively in \(S^{\tt \scriptstyle CRT}\) is considered, \(f_j>0\)
thus \(\delta^{\tt \scriptstyle CRT} = m\).

However, \(\delta\) doesn't take into account the grey category
proportions. Because of Shannon, the entropy
\(H(S^{\tt \scriptstyle CRT})\) is a measure of the variety which yields
a quantity of the finesse (similar to the variance) of the
categorisation of the greyscale in \(m\) distinct grays.

\[ H(S^{\tt \scriptstyle CRT}) \equiv H(f) = -\sum_{j=1}^{m} f_j \log f_j \]

where
\(\log(s^{\tt \scriptstyle CRT}) \equiv \log_a(s^{\tt \scriptstyle CRT})\)
is the logarithmic function of \(s^{\tt \scriptstyle CRT} > 0\) into a
certain base \(a > 1\). Depend of the \(f\) distribution, the prevision
of \(s^{\tt \scriptstyle CRT}\) will be more of less uncertain. The
natural base used here is \(a = e\) then the entropy unit is in
\emph{nats} and \(0 \leq H(f) \leq log(m)\). The interpretation of this
quantity is: the higher the entropy value the larger the distribution
dispersion is. Figure \ref{entscatter}.

The so called perplexity is the exponential of the entropy in base
\(a\), \(M(f) = a^{H(f)}\), which yields a measure of the number of
effective categories in the uniform distribution of the same \(H(f)\)
and satisfies \(1 \leq M(f) \leq m\). Figure \ref{perpscatter}.

The weighted mean intensity {[}A CALCULER{]}.

Relation between entropy and perplexity via Gini \(G\) coefficient and
Lorenz courb Figure \ref{giniloenscatter}.

Those three quantities provide fundamental quantitative information
about human colour perception based on the pixel intensity: the higher
the entropy value the lighter the colour of the drawing, otherwise
coloured drawing, whereas the higher the number of types the coloured
drawing (see figure \ref{enttypesscatter}) and the higher the mean
intensity the lighter the drawing.



\section{Results [RAPHAEL]}
In this section, we first show an explicit sample of the results obtained from the method \textit{Identification of colours} (see section \ref{sec:identification}) applied on the $N$ drawings. 
We then extend the presentation of these results using the method to measure the \textit{Colour diversity} of the drawings (see section \ref{sec:diversity}) crossed with the results of a deeper measure of variety, the greyscale levels entropy,  commonly used in Computer Vision. 
The results of the \textit{Colours space definition} experiment from a sample of ten drawings depicted in section \ref{sec:colour-space} are presented in order to asses the automatic method of variety estimation in face of human perceived variety.

\subsection{Colour identification}
 \label{sec:results_identification}
The colour identification method yields the filtered boolean $\tilde{B}^g$ matrix per colour $g$ for each $k$ drawing from where masked-image can be reconstructed to reveal the colour configuration of the original drawing as illustrated on Figures~\ref{fig:example1}~and ~\ref{fig:example2}.

\begin{figure}[!h]
	\centering
	\raisebox{0.45cm}{\includegraphics[width=0.32\linewidth]{figures/ru08_bo_f_pb_07_05_ali-r.jpg}}
	\includegraphics[width=0.62\linewidth]{figures/ru08_bo_f_pb_07_05_ali-rno_filter_mask.pdf}\hfil
	\caption{Good illustration of the colour identifications: Russian drawing.}
	\label{fig:example1}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.32\linewidth]{figures/ch15_fr_m_rrs_08_08_fim-r.jpg}
	\includegraphics[width=0.62\linewidth]{figures/ch15_fr_m_rrs_08_08_fim-rno_filter_mask.pdf}
	\caption{Less good illustration of the colour identifications: Swiss drawing.}
	\label{fig:example2}
\end{figure}

\

The first figure illustrates a good extraction of the main colours whereas the second illustrates a less good colour extractions.
This unsupervised method provides globally good results from a qualitative assessment. However we observed some issue induced by the similar computed distances between $\vec{s}$  pixel and the two or more $G$ main colours e.g. $g = \mbox{Green}$ and $g = \mbox{Achromatic}$. 
Also, the lack of the main colour  Brown in the defined set of colours produces errors during the colours identification process as well as a over attribution of the pixels to the Green when yellow and grey overlap into the drawing. 
{\color{red}[CC:  Parler des bons resultats v.s. mauvais resultats avec examples (qui sont encore \`a choisir)]}.

\

From there, we compute the proportion of coloured pixels per $g$ colour, where $g \in G \not\ni g = white$, to reveal the weighted frequency of main colours (see Figure \ref{fig:propcolours}). 
For this dataset, the results obtained allows to said that the Achromatic is the most identified followed by the Blue and the Yellow whereas the Pink and the Purple are clearly less present (they represent $70.3\%$ against $0.9\%$). The Orange, Red, green and Cyan seem to be moderately present ($27.8\%$). 
{\color{red} ** P.-Y.B. **}

\ 

{\color{teal}[IDEE: Cross validation en prennant al\' eatoirement quelques pixels par dessin et les attribuer manuelle \`a une couleurs principales ou avoir un toy example avec un dessin o\`u l'on "connait" les couleurs.]}

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/colors-barplot.png}
	\caption{Proportion of coloured pixels per $g$ colour, where $g \in G \not\ni g = white$.}
	\label{fig:propcolours}
\end{figure}


\subsection{Colour diversity}
\label{sec:results_diversity}
However we are able to identified automatically colours with a specific chosen set of colours, the colour variety of the drawing still not considered. 

\subsubsection{Entropy and variety}
Based on the colours identifications results, we then compute the relative entropy {\color{red}[Ajouter ref. \'equation quand disponible]} as well as the variety in order to reveal, first, the proportional colour variety of the dataset and, secondly, to compare it with the absolute variety of the dataset, number of non-empty main colours $g$, see Figure~\ref{fig:boxplotvariety}.
Globally, the medians of the boxes indicate an linear  relationship between the entropy and the variety, whereas the absolute frequency of drawings per number of colours identified, the variety, has an normal distribution.

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/colors-boxplot.png}
	\caption{Entropy $H(f)$ box plot for the $N$ drawings per the numbers of colours identified, namely the variety $m$.}
	\label{fig:boxplotvariety}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=0.8\linewidth]{figures/colors-grille.png}
	\caption{Sample of drawings, selected per quartiles, and ordered by entropy (column) and variety (row). {\color{red}[AJOUTER ENCORE LE AXES]}}
	\label{fig:grille}
\end{figure}

In more details, we observe on Figure \ref{fig:grille} that the entropy value attached to each drawing indicates a degree of completeness: the higher the entropy value is, more the colours are covering the page revealing more complex drawings whereas the lower values depicts lower coloured and complex drawings where $H(f) \rightarrow 0$ reveals whiter pages.
Also, combined with the variety, we observe that measure allows a gradual distinction between white drawing background with a single object to drawing with more contextualized (mutli-)object(s).
{\color{red} ** P.-Y.B. **}


Based on the chosen colour sets, the entropy measure is sensitive to the errors during the pixel colour attributions (e.g. similar distances, no Brown, etc.). 
Then, we compare it with a common approach of Computer Vision which consists to measure the entropy on the greyscale levels histogram of the drawing. 
The scatter plot, figure~\ref{fig:entropies}, depicts the significant Pearson correlation ($r=0.8866$, $p=0.000$) between these two entropy values {\color{red}[A citer dans section 3.5 \citet{wu2013}]}. 

{\color{teal}[IDEE: Est-ce que les extr\`emes ne permettraient pas d'en dire plus? A creuser.]}

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/colors-greysacale-entropies.png}
	\caption{Scatter plot of the entropies on the greyscale levels histogram with the main colours entropies.}
	\label{fig:entropies}
\end{figure}

\subsubsection{Variety concordance}

For each $i$ drawing in a sample of $\tilde{N} = 10$ drawings, we evaluate the concordance of the variety computed automatically $v^c_i = {1, \dots, G}$, by the algorithm of section \ref{sec:identification}, and the human perceived variety $v^h_i = {1, \dots, +\infty}$. 

\

First, we observe on Figure~\ref{fig:compnbcolourssd} that the numbers of colours identified automatically is different to the humans in a range of two colours in average. 
These results are quite impressive in face of the number of factors considered during both estimations of variety; on one hand the errors of the automatic attributions observed previously and, on the other hand, the human perception bias. 
The Figure \ref{fig:compnbcoloursscatter} confirms this trend with a linear relationship.

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/comp_nb_colours_sd.png}
	\caption{Drawings in function of the means numbers of colours estimated by the algorithm and human.}
	\label{fig:compnbcolourssd}
\end{figure}

\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/comp_nb_colours_scatter.png}
	\caption{Scatter plot of the variety observed by human in function of the automatic estimation of the variety.}
	\label{fig:compnbcoloursscatter}
\end{figure}

\

The Figure~\ref{fig:blandandaltman} shows the range of the disagreement using the \textit{Bland and Altman graphic} \cite{bland1986}.
The differences between the varieties of each $i$ drawing,  $d_i = v^c_i - v^h_i$, are represented in function of their means $\overline{d}_i = v^c_i + v^h_i/2$. 
The range of disagreement $d_i$ is then analysed in function of the mean $\overline{d}_i$. More $d_i$ is distant of  $0$, respectively close, $d_i \rightarrow 0$ , more the disagreement is higher, respectively concordant,  whereas $\overline{d} = 1/N\sum_{i}^{\tilde{N}}d_i = 0$ depicts a perfect concordance between these two varieties. 

\

Although there is no significant disagreement under the normal distribution hypothesis, the low size $\tilde{N}$ of the sample is not representative and show already a mean disagreement $\overline{d}=?$ {\color{red}[AJOUTER LA VALEUR DE D\'ESACCORD]}.


\begin{figure}[h!]
	\centering
	\includegraphics[width=\linewidth]{figures/comp_nb_colours_agreement.png}
	\caption{Range of disagreement of variety estimations using Bland et Altman  Graphic.}
	\label{fig:blandandaltman}
\end{figure}


\section{Conclusion}

{\color{red}[TO UPDATE AT THE END] }
{\color{gray} As a next step, since humans are more sensitive to colour patches than

to isolated pixels, a filter should be applied at the beginning of the
process, such as the Mumford-Shah Regulariser proposed by
\citet{erdem2009}. Indeed, when children (or adults) fill in an area of
the sheet with colour, the application is not regular and consequently
not all pixels of the zone are coloured. Thus, in order to avoid
underestimating the proportion of one particular colour, standardizing
colours by zone could help work around the possible issue.}

These methods are
applicable to other data and research, e.g.~studying the main colours
used by a painter according to various periods of his/her life.

Moreover, as explained in section..., it is possible to define a different set of colours and/or to start with more or less than 117 colours.

\bibliography{bibliography}
\bibliographystyle{acl_natbib}

\end{document}
